{"version":3,"sources":["dal/axiosInstance.js","api/api.js","components/Users/Users.module.sass","redux/dialogsReducer.js","components/Navigation/Navigation.module.sass","components/Friends/Friends.module.sass","components/News/News.module.sass","components/Music/Music.module.sass","components/Settings/Settings.module.sass","images/chevron-pointing-to-the-left.svg","images/chevron-pointing-to-the-right.svg","images/Preloader.png","common/Preloader/Preloader.module.sass","components/Login/Login.module.sass","components/Forms/FormsControl.js","helpers/objectHelpers.js","redux/usersReducer.js","components/Friends/Friend/Friend.jsx","components/Friends/Friends.jsx","components/Navigation/Navigation.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/usersSelector.js","components/Friends/FriendsContainer.jsx","components/Users/Paginator.js","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","redux/authReducer.js","components/Login/Login.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/appReducer.js","App.js","serviceWorker.js","redux/friendsReducer.js","index.js","components/Forms/FormsControl.module.sass","helpers/Validators.js","common/Preloader/Preloader.js","images/user.svg","components/Friends/Friend/Friend.module.sass","components/Header/Header.module.sass","redux/profileReducer.js"],"names":["axios","axiosLib","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","profileAPI","getProfile","getStatus","updateStatus","status","put","saveProfilePhoto","photoFile","formData","FormData","append","saveProfileData","profile","authAPI","authMe","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaURL","module","exports","ADD_MESSAGE","addMessageAC","newMessageText","type","initState","members","messages","message","name","avatar","dialogsReducer","state","action","newMessage","Textarea","input","meta","touched","error","props","hasError","className","mod","formControl","Input","createFieldForm","placeholder","component","validate","text","updateFunctionInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","followSuccess","UNFOLLOW","unfollowSuccess","SET_USERS","setCurrentPage","setIsFetching","isFetching","toggleFollowingInProgress","setCurrentUserID","id","users","totalItemsCount","followingInProgress","currentUserId","requestUsers","page","dispatch","a","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","usersReducer","followed","filter","Friend","user","friend","to","src","photos","small","userPhoto","alt","Friends","friends","el","Navigation","nav","item","activeClassName","active","settings","News","title","Music","Settings","getPageSize","getCurrentPage","getTotalItemsCount","getIsFetching","getFollowingInProgress","FriendsContainer","connect","Paginator","onPagesChange","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","usersPaginator","onClick","arrowLeft","pageBlock","p","selectedPage","arrowRight","User","userBlock1","photo","followButton","disabled","some","userBlock2","description","location","city","country","Users","key","UsersContainer","pageNumber","this","Preloader","React","Component","compose","setAuthUserData","isAuth","payload","getCaptchaUrlSuccess","captchaUrl","getAuthMeData","getCaptchaUrl","url","authReducer","LoginReducerForm","reduxForm","form","handleSubmit","onSubmit","required","maxLength30","modForm","formSummaryError","testData","auth","length","stopSubmit","_error","Header","header","loginLogout","HeaderContainer","initialized","appReducer","ProfileContainer","lazy","Dialogs","App","initializingApp","path","render","Suspense","fallback","withRouter","app","promise","Promise","all","Boolean","window","hostname","match","SET_FRIEND","friendsReducer","reducers","combineReducers","profileReducer","dialogs","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","value","undefined","maxLength","max","maxLength50","preloader","ADD_POST","addPost","newPostText","SET_STATUS","setStatus","DELETE_POST","birthday","education","site","posts","likes","getUserProfile","savePhoto","file","saveProfile","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.f4a15784.chunk.js","sourcesContent":["import * as axiosLib from \"axios\";\r\n\r\nconst axios = axiosLib.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '2a70584b-20f7-4ff5-8c15-684fb9f4be7b'\r\n    }\r\n});\r\n\r\nexport default axios;","import axios from './../dal/axiosInstance';\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return axios.get(`users?page=${currentPage}&count=${pageSize}`) //после вопросительного знака цепляются квери(get)-параметры\r\n            .then(response => response.data);\r\n    },\r\n    unfollow(userId) {\r\n        return axios.delete(`follow/${userId}`)\r\n    },\r\n    follow(userId) {\r\n        return axios.post(`follow/${userId}`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return axios.get(`profile/` + userId) //после / указываются УРИ(URI)-параметры\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return axios.get(`profile/status/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return axios.put(`profile/status`, {status: status})\r\n            .then(response => response.data)\r\n    },\r\n    saveProfilePhoto(photoFile) {\r\n        let formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return axios.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(response => response.data)\r\n    },\r\n    saveProfileData(profile) {\r\n        return axios.put(`profile`, profile)\r\n            .then(response => response.data)\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return axios.get('auth/me')\r\n            .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return axios.post('auth/login', {email, password, rememberMe, captcha})\r\n            .then(response => response.data);\r\n    },\r\n    logout() {\r\n        return axios.delete('auth/login')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return axios.get('security/get-captcha-url')\r\n            .then(response => response.data);\r\n    }\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__33yXs\",\"userBlock1\":\"Users_userBlock1__2wQu2\",\"userBlock2\":\"Users_userBlock2__rgXhB\",\"description\":\"Users_description__2WCJh\",\"name\":\"Users_name__8lZ03\",\"location\":\"Users_location__3-qdw\",\"photo\":\"Users_photo__1c7qm\",\"followButton\":\"Users_followButton__1z_XX\",\"pageBlock\":\"Users_pageBlock__2YgUI\",\"page\":\"Users_page__65NOI\",\"selectedPage\":\"Users_selectedPage__18YsN\",\"usersPaginator\":\"Users_usersPaginator__2W78b\"};","const ADD_MESSAGE = 'SN/MESSAGES/ADD_MESSAGE';\r\nexport const addMessageAC = (newMessageText) => (\r\n    {type: ADD_MESSAGE, newMessageText}\r\n);\r\n\r\nlet initState = {\r\n    members: ['Nastya', 'Aleks', 'Masha', 'Dima', 'Viktor', 'Elena', 'Olga', 'Tanya', 'Evgen', 'Valera', 'Kolya'],\r\n    messages: [\r\n        {\r\n            message: 'lorem lorem lorem lorem lorem  lorem lorem lorem lorem lorem lorem',\r\n            name: 'Masha',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ'\r\n        },\r\n        {\r\n            message: 'lorem lorem lorem lorem lorem  lorem lorem lorem lorem lorem lorem',\r\n            name: 'Me',\r\n            avatar: \"https://i.pinimg.com/236x/14/74/18/147418a1b8d0417edd5e700c09a33c29.jpg\"\r\n        }]\r\n};\r\n\r\nconst dialogsReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessage = {\r\n                message: action.newMessageText,\r\n                name: 'Masha',\r\n                avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ'\r\n            };\r\n            return {...state, messages: [newMessage, ...state.messages]};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__1_YlS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__37nk-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"News_title__Hz1gH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Music_title__1V5YR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Settings_title__3EITN\"};","module.exports = __webpack_public_path__ + \"static/media/chevron-pointing-to-the-left.8f7d8890.svg\";","module.exports = __webpack_public_path__ + \"static/media/chevron-pointing-to-the-right.883c65ca.svg\";","module.exports = __webpack_public_path__ + \"static/media/Preloader.4cbd9746.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3KKkY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"testData\":\"Login_testData__2Gkca\"};","import React from 'react';\r\nimport mod from './FormsControl.module.sass';\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div>\r\n            <textarea {...input} {...props} className={hasError ? mod.formControl : ''}/>\r\n            {hasError && <span className={mod.error}>{error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div>\r\n            <input {...input} {...props} className={hasError ? mod.formControl : ''}/>\r\n            {hasError && <span className={mod.error}>{error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const createFieldForm = (placeholder, name, component, validate, props = {}, text = '') => {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name} component={component}\r\n               validate={validate} {...props}/>{text}\r\n    </div>\r\n};","export const updateFunctionInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};\r\n\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateFunctionInArray} from \"../helpers/objectHelpers\";\r\n\r\nconst FOLLOW = 'SN/USERS/FOLLOW';\r\nexport const followSuccess = (userId) => (\r\n    {type: FOLLOW, userId}\r\n);\r\nconst UNFOLLOW = 'SN/USERS/UNFOLLOW';\r\nexport const unfollowSuccess = (userId) => (\r\n    {type: UNFOLLOW, userId}\r\n);\r\nconst SET_USERS = 'SN/USERS/SET_USERS';\r\nexport const setUsers = (users) => (\r\n    {type: SET_USERS, users}\r\n);\r\nconst SET_CURRENT_PAGE = 'SN/USERS/SET_CURRENT_PAGE';\r\nexport const setCurrentPage = (currentPage) => (\r\n    {type: SET_CURRENT_PAGE, currentPage}\r\n);\r\nconst SET_TOTAL_USERS_COUNT = 'SN/USERS/SET_TOTAL_USERS_COUNT';\r\nexport const setTotalItemsCount = (totalCount) => (\r\n    {type: SET_TOTAL_USERS_COUNT, count: totalCount}\r\n);\r\nconst SET_IS_FETCHING = 'SN/USERS/SET_IS_FETCHING';\r\nexport const setIsFetching = (isFetching) => (\r\n    {type: SET_IS_FETCHING, isFetching}\r\n);\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'SN/USERS/TOGGLE_FOLLOWING_IN_PROGRESS';\r\nexport const toggleFollowingInProgress = (isFetching, userId) => (\r\n    {type: TOGGLE_FOLLOWING_IN_PROGRESS, isFetching, userId}\r\n);\r\n\r\nconst SET_CURRENT_USERID = 'SN/USERS/SET_CURRENT_USERID';\r\nexport const setCurrentUserID = (id) => (\r\n    {type: SET_CURRENT_USERID, id}\r\n);\r\n\r\nlet initState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    currentPage: 1,\r\n    totalItemsCount: 0,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n    currentUserId: null\r\n};\r\n\r\nconst usersReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateFunctionInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateFunctionInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalItemsCount: action.count\r\n            };\r\n        case SET_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case SET_CURRENT_USERID:\r\n            return {\r\n                ...state,\r\n                currentUserId: action.id\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n/*ThunkCreators*/\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalItemsCount(data.totalCount));\r\n        dispatch(setIsFetching(false));\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;","import React from 'react';\r\nimport mod from './Friend.module.sass';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../images/user.svg\";\r\n\r\nconst Friend = ({user}) => {\r\n\r\n    return (\r\n        <div className={mod.friend}>\r\n            <div className={mod.avatar}>\r\n                <NavLink to={'Profile/' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"Avatar\"/>\r\n                    <div className={mod.name}>{user.name}</div>\r\n                </NavLink>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Friend;","import React from 'react';\r\nimport mod from './Friends.module.sass';\r\nimport Friend from \"./Friend/Friend\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Friends = ({users}) => {\r\n\r\n    let friends = users.map( el => el.followed ? <Friend user={el} /> : '');\r\n\r\n    return(\r\n        <div className={mod.friends}>\r\n            {friends}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Friends;","import React from 'react';\r\nimport mod from './Navigation.module.sass';\r\nimport {NavLink, Route} from \"react-router-dom\";\r\nimport Friends from \"../Friends/Friends\";\r\n\r\nconst Navigation = ({friends}) => {\r\n    return(\r\n        <nav className={mod.nav}>\r\n            <div className={mod.item}><NavLink to = \"/Profile\" activeClassName={mod.active}>Profile</NavLink></div>\r\n            <div className={mod.item}><NavLink to = \"/Dialogs\" activeClassName={mod.active}>Messages</NavLink></div>\r\n            <div className={mod.item}><NavLink to = \"/Friends\" activeClassName={mod.active}>Friends</NavLink></div>\r\n            {/*<div className={mod.item}>\r\n                <NavLink to='/Friends' activeClassName={mod.active}>\r\n                    <Route path='/Friends' render={() =>\r\n                        <Friends friends={friends}/>}>Friends</Route></NavLink>\r\n            </div>*/}\r\n            <div className={mod.item}><NavLink to=\"/Users\" activeClassName={mod.active}>Users</NavLink></div>\r\n            <div className={mod.item}><NavLink to = \"/News\" activeClassName={mod.active}>News</NavLink></div>\r\n            <div className={mod.item}><NavLink to = \"/Music\" activeClassName={mod.active}>Music</NavLink></div>\r\n            <div className={`${mod.item} ${mod.settings}`}>\r\n                <NavLink to = \"/Settings\" activeClassName={mod.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport mod from './News.module.sass';\r\n\r\nconst News = () => {\r\n    return(\r\n        <div>\r\n            <div className={mod.title}>News</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport mod from './Music.module.sass';\r\n\r\nconst Music = () => {\r\n    return(\r\n        <div>\r\n            <div className={mod.title}>Music</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport mod from './Settings.module.sass';\r\n\r\nconst Settings = () => {\r\n    return(\r\n        <div>\r\n            <div className={mod.title}>Settings</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","export const getUsers = (state) => {\r\n    return state.users.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.users.pageSize;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.users.currentPage;\r\n};\r\n\r\nexport const getTotalItemsCount = (state) => {\r\n    return state.users.totalItemsCount;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.users.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.users.followingInProgress;\r\n};","import React from 'react';\r\nimport Friends from \"./Friends\";\r\nimport {connect} from 'react-redux'\r\nimport {getUsers} from \"../../redux/usersSelector\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return{\r\n      users: getUsers(state)\r\n  }\r\n};\r\n\r\nconst FriendsContainer = connect(mapStateToProps)(Friends);\r\n\r\nexport default FriendsContainer;","import React, {useState} from 'react';\r\nimport mod from '../Users/Users.module.sass';\r\nimport arrowLeft from '../../images/chevron-pointing-to-the-left.svg';\r\nimport arrowRight from '../../images/chevron-pointing-to-the-right.svg';\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPagesChange, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return (<div className={mod.usersPaginator}>\r\n            {\r\n                portionNumber > 1 &&\r\n                <button onClick={() => {setPortionNumber(portionNumber - 1)}}><img src={arrowLeft} alt=\"arrowLeft\"/></button>\r\n            }\r\n            <div className={mod.pageBlock}>{\r\n                pages.filter(p => p >= leftPortionPageNumber && p<= rightPortionPageNumber)\r\n                    .map(p => {\r\n                        return <div className={`${currentPage === p && mod.selectedPage} ${mod.page}`}\r\n                                    onClick={() => {\r\n                                        onPagesChange(p)\r\n                                    }}>{p}</div>\r\n                    })}</div>\r\n            {\r\n                portionCount > portionNumber &&\r\n                <button onClick={() => {setPortionNumber(portionNumber + 1)}}><img src={arrowRight} alt=\"arrowRight\"/></button>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport mod from '../Users/Users.module.sass';\r\nimport userPhoto from '../../images/user.svg';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (\r\n        <div className={mod.user}>\r\n            <div className={mod.userBlock1}>\r\n                <div className={mod.photo}>\r\n                    <NavLink to={'Profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"Avatar\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={mod.followButton}>\r\n                    {(user.followed ?\r\n                        <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    unfollow(user.id)\r\n                                }}>Unfollow</button> :\r\n                        <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    follow(user.id)\r\n                                }}>Follow</button>)}\r\n                </div>\r\n            </div>\r\n            <div className={mod.userBlock2}>\r\n                <div className={mod.description}>\r\n                    <div className={mod.name}>{user.name}</div>\r\n                    <div\r\n                        className={mod.status}>{user.status != null ? user.status : 'I have not status yet :('}</div>\r\n                </div>\r\n                <div className={mod.location}>\r\n                    <div className={mod.city}>{'user.location.city'}</div>\r\n                    <div className={mod.country}>{'user.location.country'}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"./Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalItemsCount, pageSize, currentPage, onPagesChange, ...props}) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator totalItemsCount={totalItemsCount} pageSize={pageSize}\r\n                       currentPage={currentPage} onPagesChange={onPagesChange}/>\r\n            {\r\n                props.users.map(u => <User user={u} key={u.id} followingInProgress={props.followingInProgress}\r\n                                           unfollow={props.unfollow} follow={props.follow}/>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","import React from 'react';\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingInProgress,\r\n    unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport {connect} from 'react-redux';\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalItemsCount, getUsers\r\n} from \"../../redux/usersSelector\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    };\r\n\r\n    onPagesChange = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalItemsCount={this.props.totalItemsCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPagesChange={this.onPagesChange}\r\n                   users={this.props.users}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n//используем selector в mapStateToProps\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalItemsCount: getTotalItemsCount(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\n/*withAuthRedirect(connect(mapStateToProps,\r\n    {follow, unfollow, setCurrentPage, toggleFollowingInProgress, /!*getUsers: getUsersThunkCreator}*!/ getUsers})(UsersContainer));*/\r\n\r\nexport default compose(\r\n        connect(mapStateToProps,\r\n        {follow, unfollow, setCurrentPage, toggleFollowingInProgress, /*getUsers: getUsersThunkCreator}*/ getUsers: requestUsers})\r\n)(UsersContainer);","import {authAPI, securityAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_AUTH_USER_DATA = 'SN/AUTH/SET_AUTH_USER_DATA';\r\nexport const setAuthUserData = (userId, email, login, isAuth) => (\r\n    {type: SET_AUTH_USER_DATA, payload: {userId, email, login, isAuth}}\r\n);\r\n\r\nconst GET_CAPTCHA_URL_SUCCESS = 'SN/AUTH/GET_CAPTCHA_URL_SUCCESS';\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => (\r\n    {type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}}\r\n);\r\n\r\nconst CAPTCHA_ZEROING = 'SN/AUTH/CAPTCHA_ZEROING';\r\nexport const setCaptchaZeroing = () => (\r\n    {type: CAPTCHA_ZEROING}\r\n);\r\n\r\nlet initState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        }\r\n        case CAPTCHA_ZEROING:\r\n            {\r\n            return {\r\n                ...state,\r\n                captchaUrl: null\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport const getAuthMeData = () => async (dispatch) => {\r\n    let data = await authAPI.authMe();\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n        dispatch(setCaptchaZeroing());\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuthMeData());\r\n    } else {\r\n        if (data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = data.messages.length > 0 ? data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const data = await securityAPI.getCaptchaURL();\r\n    const captchaUrl = data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport {maxLength30, required} from \"../../helpers/Validators\";\r\nimport {createFieldForm, Input} from \"../Forms/FormsControl\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport modForm from '../Forms/FormsControl.module.sass';\r\nimport mod from './Login.module.sass'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return(\r\n        <form onSubmit={handleSubmit}>\r\n            {createFieldForm('Email', 'email', Input, [required, maxLength30])}\r\n            {createFieldForm('Password', 'password', Input, [required, maxLength30], {type: 'password'})}\r\n            {createFieldForm(null, 'rememberMe', 'input', null, {type: 'checkbox'}, 'remember me')}\r\n            {captchaUrl && <img src={captchaUrl} alt=\"captchaUrl\"/>}\r\n            {captchaUrl && createFieldForm('Enter security captcha', 'captchaUrl', Input, [required])}\r\n            { error &&\r\n                <div className={modForm.formSummaryError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <button>Login</button>\r\n            <div className={mod.testData}>\r\n                Тестовые e-mail и password:\r\n                <div>E-mail: <span>free@samuraijs.com</span></div>\r\n                <div>Password: <span>free</span></div>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst Login = ({login, isAuth, captchaUrl}) => {\r\n    let onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captchaUrl);\r\n    };\r\n\r\n    if(isAuth){\r\n        return <Redirect to='/Profile'/>\r\n    }\r\n    return(\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReducerForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginReducerForm = reduxForm({\r\n    // a unique name for the form\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) =>({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import React from 'react';\r\nimport mod from './Header.module.sass';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = ({isAuth, login, logout}) => {\r\n\r\n    return(\r\n        <header className={mod.header}>\r\n            <img src='https://image.flaticon.com/icons/svg/254/254018.svg' alt=\"icon\"/>\r\n            {isAuth\r\n                ? <div className={mod.loginLogout}><div>{login}</div><button onClick={logout}>Logout</button></div>\r\n                : <div className={mod.login}><NavLink to = \"/Login\">Login</NavLink></div>}\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from 'react-redux';\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>;\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n\r\n};\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {getAuthMeData} from \"./authReducer\";\r\n\r\nconst SUCCESS_INITIALIZING = 'SN/APP/SUCCESS_INITIALIZING';\r\nexport const successInitializing = () => ({type: SUCCESS_INITIALIZING});\r\n\r\nlet initState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SUCCESS_INITIALIZING: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport const initializingApp = () => async (dispatch) => {\r\n    let promise = dispatch(getAuthMeData());\r\n    await Promise.all([promise]);\r\n    dispatch(successInitializing());\r\n};\r\n\r\nexport default appReducer;","import React, {Component} from 'react';\nimport './Apps.sass';\nimport Navigation from \"./components/Navigation/Navigation\";\n// import Dialogs from \"./components/Dialogs/Dialogs\";\nimport {Route, withRouter} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport Login from \"./components/Login/Login\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {initializingApp} from \"./redux/appReducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport {compose} from \"redux\";\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'));\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializingApp();\n    };\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className=\"appWrapper\">\n                <HeaderContainer/>\n                <Navigation/>\n                <div className=\"appWrapperContent\">\n                    <Route path='/Login' render={() => <Login/>}/>\n                    <Route path='/Profile/:userId?'     // знак ? после :userId - параметр :userId не обязателен\n                           render={() => {\n                               return <React.Suspense fallback={<div>Loading...</div>}>\n                                   <ProfileContainer/>\n                               </React.Suspense>\n                           }\n                           }/>\n                    <Route path='/Dialogs' render={() => {\n                        return <React.Suspense fallback={<div>Loading...</div>}>\n                            <Dialogs/>\n                        </React.Suspense>\n                    }\n                    }/>\n                    <Route path='/Friends' render={() => <FriendsContainer />}/>\n                    <Route path='/Users' render={() => <UsersContainer/>}/>\n                    <Route path='/News' render={() => <News/>}/>\n                    <Route path='/Music' render={() => <Music/>}/>\n                    <Route path='/Settings' render={() => <Settings/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializingApp}))(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more Info the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Member is cached for offline use.\" message.\n              console.log('Member is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const SET_FRIEND = 'SN/FRIENDS/SET_FRIEND';\r\nexport const setFriendsAC = users => ({type: SET_FRIEND, users});\r\n\r\nlet initState = {\r\n    users: [\r\n        /*{\r\n            id: 1,\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ',\r\n            name: 'Ruslan'\r\n        },\r\n        {\r\n            id: 2,\r\n            avatar: \"https://i.pinimg.com/236x/14/74/18/147418a1b8d0417edd5e700c09a33c29.jpg\",\r\n            name: 'Aleks'\r\n        },\r\n        {\r\n            id: 3,\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ',\r\n            name: 'Dima'\r\n        },\r\n        {\r\n            id: 4,\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ',\r\n            name: 'Ruslan'\r\n        },\r\n        {\r\n            id: 5,\r\n            avatar: \"https://i.pinimg.com/236x/14/74/18/147418a1b8d0417edd5e700c09a33c29.jpg\",\r\n            name: 'Aleks'\r\n        },\r\n        {\r\n            id: 6,\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ',\r\n            name: 'Dima'\r\n        }*/\r\n    ]\r\n};\r\n\r\nconst friendsReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_FRIEND:\r\n            return {...state, users: action.users};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default friendsReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\nimport profileReducer from \"./redux/profileReducer\";\nimport dialogsReducer from \"./redux/dialogsReducer\";\nimport friendsReducer from \"./redux/friendsReducer\";\nimport {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport {Provider} from \"react-redux\";\nimport usersReducer from \"./redux/usersReducer\";\nimport authReducer from \"./redux/authReducer\";\n// import loginReducer from \"./redux/loginReducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from \"./redux/appReducer\";\n\nlet reducers = combineReducers({\n    profile: profileReducer,\n    dialogs: dialogsReducer,\n    friends: friendsReducer,\n    users: usersReducer,\n    auth: authReducer,\n    // login: loginReducer,\n    form: formReducer,\n    app: appReducer\n\n});\n\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\n\n/*\nstore.subscribe(() => {\n    let state = store.getState();\n    rerenderWholeTree(state);\n});\n*/\n\nwindow.store = store;\n\n// let rerenderWholeTree = () => {\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App /*store={store} state={state}*/ />\n        </BrowserRouter>\n    </Provider>, document.getElementById('root'));\n// };\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more Info service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n// rerenderWholeTree(store.getState());","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__1VM2J\",\"error\":\"FormsControl_error__2e-97\",\"formSummaryError\":\"FormsControl_formSummaryError__2nb92\"};","import React from 'react';\r\n\r\nexport const required = value => {\r\n    return value ? undefined : 'Required Field';\r\n};\r\n\r\nexport const maxLength = max => value => {\r\n  return value && value.length > max && `Max length is ${max} symbols`;\r\n};\r\n\r\nexport const maxLength30 = maxLength(30);\r\nexport const maxLength50 = maxLength(50);\r\nexport const maxLength20 = maxLength(20);","import React from 'react';\r\nimport preloader from '../../images/Preloader.png';\r\nimport mod from './Preloader.module.sass';\r\n\r\nlet Preloader = () => {\r\n    return <div className={mod.preloader}>\r\n        <img src={preloader} alt=\"Preloader\"/>\r\n    </div>\r\n};\r\n\r\nexport default Preloader;","module.exports = __webpack_public_path__ + \"static/media/user.30f6859b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__26AxM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2dEyS\",\"loginLogout\":\"Header_loginLogout__29VVH\"};","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'SN/PROFILE/NEW_POST/ADD_POST';\r\nexport const addPost = (newPostText) => (\r\n    {type: ADD_POST, newPostText}\r\n);\r\n\r\nconst SET_USER_PROFILE = 'SN/PROFILE/SET_USER_PROFILE';\r\nexport const setUserProfile = (profile) => (\r\n    {type: SET_USER_PROFILE, profile}\r\n);\r\nconst SET_STATUS = 'SN/PROFILE/SET_STATUS';\r\nexport const setStatus = (status) => (\r\n    {type: SET_STATUS, status}\r\n);\r\nconst DELETE_POST = 'SN/PROFILE/DELETE_POST';\r\nexport const deletePost = (postId) => (\r\n    {type: DELETE_POST, postId}\r\n);\r\nconst SAVE_PHOTO_SUCCESS = 'SN/PROFILE/SAVE_PHOTO_SUCCESS';\r\nexport const savePhotoSuccess = (photos) => (\r\n    {type: SAVE_PHOTO_SUCCESS, photos}\r\n);\r\n\r\n\r\nlet initState = {\r\n    avatar: \"https://i.pinimg.com/236x/14/74/18/147418a1b8d0417edd5e700c09a33c29.jpg\",\r\n    name: \"Alberto\",\r\n    birthday: \"1 January\",\r\n    city: \"Minsk\",\r\n    education: \"BSUIR\",\r\n    site: \"https://myReactSite.com\",\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            text: 'Why you are so serious?',\r\n            likes: 15\r\n        },\r\n        {\r\n            id: 2,\r\n            text: 'It is my first post!',\r\n            likes: 9\r\n        }],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                text: action.newPostText,\r\n                likes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts]\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile};\r\n        case SET_STATUS:\r\n            return {...state, status: action.status};\r\n        case DELETE_POST:\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postId)};\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos}};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n/*ThunkCreators*/\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let data = await profileAPI.updateStatus(status);\r\n    if (data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let data = await profileAPI.saveProfilePhoto(file);\r\n    if (data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(data.data.photos));\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    let userId = getState().auth.userId;\r\n    let data = await profileAPI.saveProfileData(profile);\r\n    if (data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        //let contacts = data.messages[0].split('->');\r\n        //let contact = contacts[1].split(')');\r\n        //let cont = contact[0];\r\n        // dispatch(stopSubmit('edit-profile', {'contacts': {cont: data.messages[0]}}));\r\n        dispatch(stopSubmit('edit-profile', {'contacts': {'facebook': data.messages[0]} }));\r\n        // {'contacts': {'facebook': data.messages[0]} }\r\n        return Promise.reject(data.messages[0]);\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}
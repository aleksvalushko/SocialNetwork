(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){"use strict";var r=n(137).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"2a70584b-20f7-4ff5-8c15-684fb9f4be7b"}});n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s}));var a={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return r.delete("follow/".concat(e))},follow:function(e){return r.post("follow/".concat(e))}},o={getProfile:function(e){return r.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/"+e).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},saveProfilePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfileData:function(e){return r.put("profile",e).then((function(e){return e.data}))}},c={authMe:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))}},s={getCaptchaURL:function(){return r.get("security/get-captcha-url").then((function(e){return e.data}))}}},12:function(e,t,n){e.exports={user:"Users_user__33yXs",userBlock1:"Users_userBlock1__2wQu2",userBlock2:"Users_userBlock2__rgXhB",description:"Users_description__2WCJh",name:"Users_name__8lZ03",location:"Users_location__3-qdw",photo:"Users_photo__1c7qm",followButton:"Users_followButton__1z_XX",pageBlock:"Users_pageBlock__2YgUI",page:"Users_page__65NOI",selectedPage:"Users_selectedPage__18YsN",usersPaginator:"Users_usersPaginator__2W78b"}},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(47),a=n(16);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s="SN/MESSAGES/ADD_MESSAGE",i=function(e){return{type:s,newMessageText:e}},u={members:["Nastya","Aleks","Masha","Dima","Viktor","Elena","Olga","Tanya","Evgen","Valera","Kolya"],messages:[{message:"lorem lorem lorem lorem lorem  lorem lorem lorem lorem lorem lorem",name:"Masha",avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ"},{message:"lorem lorem lorem lorem lorem  lorem lorem lorem lorem lorem lorem",name:"Me",avatar:"https://i.pinimg.com/236x/14/74/18/147418a1b8d0417edd5e700c09a33c29.jpg"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n={message:t.newMessageText,name:"Masha",avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_8DD1nIUzMTqtW20DOu1IM_FImz8HK-f34YO89SxWMD54nOoaTQ"};return c({},e,{messages:[n].concat(Object(r.a)(e.messages))});default:return e}}},13:function(e,t,n){e.exports={nav:"Navigation_nav__1_YlS"}},131:function(e,t,n){e.exports={friends:"Friends_friends__37nk-"}},133:function(e,t,n){e.exports={title:"News_title__Hz1gH"}},134:function(e,t,n){e.exports={title:"Music_title__1V5YR"}},135:function(e,t,n){e.exports={title:"Settings_title__3EITN"}},138:function(e,t,n){e.exports=n.p+"static/media/chevron-pointing-to-the-left.8f7d8890.svg"},139:function(e,t,n){e.exports=n.p+"static/media/chevron-pointing-to-the-right.883c65ca.svg"},140:function(e,t,n){e.exports=n.p+"static/media/Preloader.4cbd9746.png"},141:function(e,t,n){e.exports={preloader:"Preloader_preloader__3KKkY"}},143:function(e,t,n){e.exports={testData:"Login_testData__2Gkca"}},171:function(e,t,n){e.exports=n(302)},176:function(e,t,n){},177:function(e,t,n){},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n(56),a=n(0),o=n.n(a),c=n(35),s=n.n(c),i=n(90),u=function(e){var t=e.input,n=e.meta,a=n.touched,c=n.error,i=Object(r.a)(e,["input","meta"]),u=a&&c;return o.a.createElement("div",null,o.a.createElement("textarea",Object.assign({},t,i,{className:u?s.a.formControl:""})),u&&o.a.createElement("span",{className:s.a.error},c))},l=function(e){var t=e.input,n=e.meta,a=n.touched,c=n.error,i=Object(r.a)(e,["input","meta"]),u=a&&c;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({},t,i,{className:u?s.a.formControl:""})),u&&o.a.createElement("span",{className:s.a.error},c))},f=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(i.a,Object.assign({placeholder:e,name:t,component:n,validate:r},a)),c)}},30:function(e,t,n){"use strict";var r=n(5),a=n.n(r),o=n(9),c=n(47),s=n(16),i=n(11);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e,t,n,r){return e.map((function(e){return e[n]===t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},r):e}))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return _})),n.d(t,"g",(function(){return j}));var m="SN/USERS/FOLLOW",d=function(e){return{type:m,userId:e}},g="SN/USERS/UNFOLLOW",h=function(e){return{type:g,userId:e}},b="SN/USERS/SET_USERS",v=function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},E=function(e){return{type:"SN/USERS/SET_IS_FETCHING",isFetching:e}},O=function(e,t){return{type:"SN/USERS/TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},S=function(e){return{type:"SN/USERS/SET_CURRENT_USERID",id:e}},y={users:[],pageSize:20,currentPage:1,totalItemsCount:0,isFetching:!0,followingInProgress:[],currentUserId:null},w=function(e,t){return function(){var n=Object(o.a)(a.a.mark((function n(r){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(E(!0)),r(v(e)),n.next=4,i.d.getUsers(e,t);case 4:o=n.sent,r((a=o.items,{type:b,users:a})),r({type:"SN/USERS/SET_TOTAL_USERS_COUNT",count:o.totalCount}),r(E(!1));case 8:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},P=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,o){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(o(n)),t(O(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),_=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(n,e,i.d.follow.bind(i.d),d);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(n,e,i.d.unfollow.bind(i.d),h);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return p({},e,{users:l(e.users,t.userId,"id",{followed:!0})});case g:return p({},e,{users:l(e.users,t.userId,"id",{followed:!1})});case"SN/USERS/TOGGLE_FOLLOWING_IN_PROGRESS":return p({},e,{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case b:return p({},e,{users:t.users});case"SN/USERS/SET_CURRENT_PAGE":return p({},e,{currentPage:t.currentPage});case"SN/USERS/SET_TOTAL_USERS_COUNT":return p({},e,{totalItemsCount:t.count});case"SN/USERS/SET_IS_FETCHING":return p({},e,{isFetching:t.isFetching});case"SN/USERS/SET_CURRENT_USERID":return p({},e,{currentUserId:t.id});default:return e}}},302:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(66),c=n.n(o),s=(n(176),n(36)),i=n(37),u=n(40),l=n(38),f=n(41),p=(n(177),n(13)),m=n.n(p),d=n(8),g=n(131),h=n.n(g),b=n(73),v=n.n(b),E=n(70),O=n.n(E),S=function(e){var t=e.user;return a.a.createElement("div",{className:v.a.friend},a.a.createElement("div",{className:v.a.avatar},a.a.createElement(d.b,{to:"Profile/"+t.id},a.a.createElement("img",{src:null!=t.photos.small?t.photos.small:O.a,alt:"Avatar"}),a.a.createElement("div",{className:v.a.name},t.name))))},y=function(e){var t=e.users.map((function(e){return e.followed?a.a.createElement(S,{user:e}):""}));return a.a.createElement("div",{className:h.a.friends},t)},w=function(e){e.friends;return a.a.createElement("nav",{className:m.a.nav},a.a.createElement("div",{className:m.a.item},a.a.createElement(d.b,{to:"/Profile",activeClassName:m.a.active},"Profile")),a.a.createElement("div",{className:m.a.item},a.a.createElement(d.b,{to:"/Dialogs",activeClassName:m.a.active},"Messages")),a.a.createElement("div",{className:m.a.item},a.a.createElement(d.b,{to:"/Friends",activeClassName:m.a.active},"Friends")),a.a.createElement("div",{className:m.a.item},a.a.createElement(d.b,{to:"/Users",activeClassName:m.a.active},"Users")),a.a.createElement("div",{className:m.a.item},a.a.createElement(d.b,{to:"/News",activeClassName:m.a.active},"News")),a.a.createElement("div",{className:m.a.item},a.a.createElement(d.b,{to:"/Music",activeClassName:m.a.active},"Music")),a.a.createElement("div",{className:"".concat(m.a.item," ").concat(m.a.settings)},a.a.createElement(d.b,{to:"/Settings",activeClassName:m.a.active},"Settings")))},P=n(34),_=n(133),j=n.n(_),N=function(){return a.a.createElement("div",null,a.a.createElement("div",{className:j.a.title},"News"))},U=n(134),I=n.n(U),C=function(){return a.a.createElement("div",null,a.a.createElement("div",{className:I.a.title},"Music"))},T=n(135),k=n.n(T),x=function(){return a.a.createElement("div",null,a.a.createElement("div",{className:k.a.title},"Settings"))},D=n(14),R=function(e){return e.users.users},A=function(e){return e.users.pageSize},F=function(e){return e.users.currentPage},L=function(e){return e.users.totalItemsCount},M=function(e){return e.users.isFetching},z=function(e){return e.users.followingInProgress},G=Object(D.b)((function(e){return{users:R(e)}}))(y),H=n(30),W=n(56),B=n(96),V=n(12),Y=n.n(V),q=n(138),K=n.n(q),J=n(139),Z=n.n(J),X=function(e){for(var t=e.totalItemsCount,n=e.pageSize,o=e.currentPage,c=e.onPagesChange,s=e.portionSize,i=void 0===s?10:s,u=Math.ceil(t/n),l=[],f=1;f<=u;f++)l.push(f);var p=Math.ceil(u/i),m=Object(r.useState)(1),d=Object(B.a)(m,2),g=d[0],h=d[1],b=(g-1)*i+1,v=g*i;return a.a.createElement("div",{className:Y.a.usersPaginator},g>1&&a.a.createElement("button",{onClick:function(){h(g-1)}},a.a.createElement("img",{src:K.a,alt:"arrowLeft"})),a.a.createElement("div",{className:Y.a.pageBlock},l.filter((function(e){return e>=b&&e<=v})).map((function(e){return a.a.createElement("div",{className:"".concat(o===e&&Y.a.selectedPage," ").concat(Y.a.page),onClick:function(){c(e)}},e)}))),p>g&&a.a.createElement("button",{onClick:function(){h(g+1)}},a.a.createElement("img",{src:Z.a,alt:"arrowRight"})))},Q=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,o=e.follow;return a.a.createElement("div",{className:Y.a.user},a.a.createElement("div",{className:Y.a.userBlock1},a.a.createElement("div",{className:Y.a.photo},a.a.createElement(d.b,{to:"Profile/"+t.id},a.a.createElement("img",{src:null!=t.photos.small?t.photos.small:O.a,alt:"Avatar"}))),a.a.createElement("div",{className:Y.a.followButton},t.followed?a.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Unfollow"):a.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Follow"))),a.a.createElement("div",{className:Y.a.userBlock2},a.a.createElement("div",{className:Y.a.description},a.a.createElement("div",{className:Y.a.name},t.name),a.a.createElement("div",{className:Y.a.status},null!=t.status?t.status:"I have not status yet :(")),a.a.createElement("div",{className:Y.a.location},a.a.createElement("div",{className:Y.a.city},"user.location.city"),a.a.createElement("div",{className:Y.a.country},"user.location.country"))))},$=function(e){var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,o=e.onPagesChange,c=Object(W.a)(e,["totalItemsCount","pageSize","currentPage","onPagesChange"]);return a.a.createElement("div",null,a.a.createElement(X,{totalItemsCount:t,pageSize:n,currentPage:r,onPagesChange:o}),c.users.map((function(e){return a.a.createElement(Q,{user:e,key:e.id,followingInProgress:c.followingInProgress,unfollow:c.unfollow,follow:c.follow})})))},ee=n(67),te=n(7),ne=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).onPagesChange=function(e){n.props.getUsers(e,n.props.pageSize)},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.props.isFetching?a.a.createElement(ee.a,null):null,a.a.createElement($,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPagesChange:this.onPagesChange,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress,toggleFollowingInProgress:this.props.toggleFollowingInProgress}))}}]),t}(a.a.Component),re=Object(te.compose)(Object(D.b)((function(e){return{users:R(e),pageSize:A(e),currentPage:F(e),totalItemsCount:L(e),isFetching:M(e),followingInProgress:z(e)}}),{follow:H.b,unfollow:H.g,setCurrentPage:H.d,toggleFollowingInProgress:H.f,getUsers:H.c}))(ne),ae=n(129),oe=n(43),ce=n(27),se=n(5),ie=n.n(se),ue=n(9),le=n(16),fe=n(11),pe=n(31);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach((function(t){Object(le.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e,t,n,r){return{type:"SN/AUTH/SET_AUTH_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},he=function(e){return{type:"SN/AUTH/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},be={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},ve=function(){return function(){var e=Object(ue.a)(ie.a.mark((function e(t){var n,r,a,o,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.authMe();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,o=r.email,c=r.login,t(ge(a,o,c,!0)),t({type:"SN/AUTH/CAPTCHA_ZEROING"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ee=function(){return function(){var e=Object(ue.a)(ie.a.mark((function e(t){var n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.c.getCaptchaURL();case 2:n=e.sent,r=n.url,t(he(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET_AUTH_USER_DATA":case"SN/AUTH/GET_CAPTCHA_URL_SUCCESS":return de({},e,{},t.payload);case"SN/AUTH/CAPTCHA_ZEROING":return de({},e,{captchaUrl:null});default:return e}},Se=n(35),ye=n.n(Se),we=n(143),Pe=n.n(we),_e=Object(ae.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return a.a.createElement("form",{onSubmit:t},Object(ce.c)("Email","email",ce.a,[oe.c,oe.a]),Object(ce.c)("Password","password",ce.a,[oe.c,oe.a],{type:"password"}),Object(ce.c)(null,"rememberMe","input",null,{type:"checkbox"},"remember me"),r&&a.a.createElement("img",{src:r,alt:"captchaUrl"}),r&&Object(ce.c)("Enter security captcha","captchaUrl",ce.a,[oe.c]),n&&a.a.createElement("div",{className:ye.a.formSummaryError},n),a.a.createElement("button",null,"Login"),a.a.createElement("div",{className:Pe.a.testData},"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 e-mail \u0438 password:",a.a.createElement("div",null,"E-mail: ",a.a.createElement("span",null,"free@samuraijs.com")),a.a.createElement("div",null,"Password: ",a.a.createElement("span",null,"free"))))})),je=Object(D.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,n,r){return function(){var a=Object(ue.a)(ie.a.mark((function a(o){var c,s;return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe.a.login(e,t,n,r);case 2:0===(c=a.sent).resultCode?o(ve()):(10===c.resultCode&&o(Ee()),s=c.messages.length>0?c.messages[0]:"Some error",o(Object(pe.a)("login",{_error:s})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,r=e.captchaUrl;return n?a.a.createElement(P.a,{to:"/Profile"}):a.a.createElement("div",null,a.a.createElement("h1",null,"Login"),a.a.createElement(_e,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captchaUrl)},captchaUrl:r}))})),Ne=n(75),Ue=n.n(Ne),Ie=function(e){var t=e.isAuth,n=e.login,r=e.logout;return a.a.createElement("header",{className:Ue.a.header},a.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/254/254018.svg",alt:"icon"}),t?a.a.createElement("div",{className:Ue.a.loginLogout},a.a.createElement("div",null,n),a.a.createElement("button",{onClick:r},"Logout")):a.a.createElement("div",{className:Ue.a.login},a.a.createElement(d.b,{to:"/Login"},"Login")))},Ce=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(Ie,this.props)}}]),t}(a.a.Component),Te=Object(D.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(ue.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.logout();case 2:0===e.sent.resultCode&&t(ge(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ce);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach((function(t){Object(le.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={initialized:!1},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/SUCCESS_INITIALIZING":return xe({},e,{initialized:!0});default:return e}},Ae=a.a.lazy((function(){return n.e(4).then(n.bind(null,316))})),Fe=a.a.lazy((function(){return n.e(3).then(n.bind(null,315))})),Le=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializingApp()}},{key:"render",value:function(){return this.props.initialized?a.a.createElement("div",{className:"appWrapper"},a.a.createElement(Te,null),a.a.createElement(w,null),a.a.createElement("div",{className:"appWrapperContent"},a.a.createElement(P.b,{path:"/Login",render:function(){return a.a.createElement(je,null)}}),a.a.createElement(P.b,{path:"/Profile/:userId?",render:function(){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(Ae,null))}}),a.a.createElement(P.b,{path:"/Dialogs",render:function(){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(Fe,null))}}),a.a.createElement(P.b,{path:"/Friends",render:function(){return a.a.createElement(G,null)}}),a.a.createElement(P.b,{path:"/Users",render:function(){return a.a.createElement(re,null)}}),a.a.createElement(P.b,{path:"/News",render:function(){return a.a.createElement(N,null)}}),a.a.createElement(P.b,{path:"/Music",render:function(){return a.a.createElement(C,null)}}),a.a.createElement(P.b,{path:"/Settings",render:function(){return a.a.createElement(x,null)}}))):a.a.createElement(ee.a,null)}}]),t}(r.Component),Me=Object(te.compose)(P.e,Object(D.b)((function(e){return{initialized:e.app.initialized}}),{initializingApp:function(){return function(){var e=Object(ue.a)(ie.a.mark((function e(t){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(ve()),e.next=3,Promise.all([n]);case 3:t({type:"SN/APP/SUCCESS_INITIALIZING"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=n(95),Ge=n(128);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach((function(t){Object(le.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be="SN/FRIENDS/SET_FRIEND",Ve={users:[]},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return We({},e,{users:t.users});default:return e}},qe=n(144),Ke=n(145),Je=n(130),Ze=Object(te.combineReducers)({profile:ze.b,dialogs:Ge.b,friends:Ye,users:H.a,auth:Oe,form:Je.a,app:Re}),Xe=Object(te.createStore)(Ze,Object(Ke.composeWithDevTools)(Object(te.applyMiddleware)(qe.a)));window.store=Xe,c.a.render(a.a.createElement(D.a,{store:Xe},a.a.createElement(d.a,null,a.a.createElement(Me,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,n){e.exports={formControl:"FormsControl_formControl__1VM2J",error:"FormsControl_error__2e-97",formSummaryError:"FormsControl_formSummaryError__2nb92"}},43:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));n(0);var r=function(e){return e?void 0:"Required Field"},a=function(e){return function(t){return t&&t.length>e&&"Max length is ".concat(e," symbols")}},o=a(30),c=a(50);a(20)},67:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(140),c=n.n(o),s=n(141),i=n.n(s);t.a=function(){return a.a.createElement("div",{className:i.a.preloader},a.a.createElement("img",{src:c.a,alt:"Preloader"}))}},70:function(e,t,n){e.exports=n.p+"static/media/user.30f6859b.svg"},73:function(e,t,n){e.exports={friend:"Friend_friend__26AxM"}},75:function(e,t,n){e.exports={header:"Header_header__2dEyS",loginLogout:"Header_loginLogout__29VVH"}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return E})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return y}));var r=n(5),a=n.n(r),o=n(9),c=n(47),s=n(16),i=n(11),u=n(31);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="SN/PROFILE/NEW_POST/ADD_POST",m=function(e){return{type:p,newPostText:e}},d="SN/PROFILE/SET_STATUS",g=function(e){return{type:d,status:e}},h="SN/PROFILE/DELETE_POST",b={avatar:"https://i.pinimg.com/236x/14/74/18/147418a1b8d0417edd5e700c09a33c29.jpg",name:"Alberto",birthday:"1 January",city:"Minsk",education:"BSUIR",site:"https://myReactSite.com",posts:[{id:1,text:"Why you are so serious?",likes:15},{id:2,text:"It is my first post!",likes:9}],profile:null,status:""},v=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getProfile(e);case 2:r=t.sent,n({type:"SN/PROFILE/SET_USER_PROFILE",profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:r=t.sent,n(g(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateStatus(e);case 2:0===t.sent.resultCode&&n(g(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.saveProfilePhoto(e);case 2:0===(r=t.sent).resultCode&&n({type:"SN/PROFILE/SAVE_PHOTO_SUCCESS",photos:r.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n,r){var o,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r().auth.userId,t.next=3,i.b.saveProfileData(e);case 3:if(0!==(c=t.sent).resultCode){t.next=8;break}n(v(o)),t.next=10;break;case 8:return n(Object(u.a)("edit-profile",{contacts:{facebook:c.messages[0]}})),t.abrupt("return",Promise.reject(c.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var n={text:t.newPostText,likes:0};return f({},e,{posts:[n].concat(Object(c.a)(e.posts))});case"SN/PROFILE/SET_USER_PROFILE":return f({},e,{profile:t.profile});case d:return f({},e,{status:t.status});case h:return f({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SN/PROFILE/SAVE_PHOTO_SUCCESS":return f({},e,{profile:f({},e.profile,{photos:t.photos})});default:return e}}}},[[171,1,2]]]);
//# sourceMappingURL=main.f4a15784.chunk.js.map